{% load static %} {% load menu_tags %} <!DOCTYPE html> <html lang=id > <meta charset=utf-8 > <title> {{ title }} - [Dashboard] </title> {% include 'smart-admin-2/snippets/style.html' %} {% block extra_head %}{% endblock %} <body class="desktop-detected fixed-header pace-done smart-style-1"> {% block header %}{% endblock %} {% block left-panel %}{% endblock %} <div id=main  role=main > {% block breadcrumb %}{% endblock %} {% block content %}{% endblock %} </div> {% block footer %}{% endblock %} {% include 'smart-admin-2/snippets/script.html' %} <script> function change_language_to(url) { if (url.indexOf('/en/') > 0) { if (confirm('Ubah ke Bahasa Indonesa?')) { url = url.replace('/en/','/' + 'id' + '/'); window.location.href = url; }; } else if (url.indexOf('/id/') > 0) { if (confirm('Change to English?')) { url = url.replace('/id/','/' + 'en' + '/'); window.location.href = url; }; }; }; $(document).ready(function() { var url = document.URL; if (url.indexOf('/id/') > 0) { $("#tg-languages").empty(); $("#tg-languages").append( "<img src=\"{% static 'smart-admin-2/img/blank.gif' %}\" class='flag flag-id' alt='Flag language'> " + "<span> Id </span> <i class='fa fa-angle-down'></i> " ); } else if (url.indexOf('/en/') > 0) { $("#tg-languages").empty(); $("#tg-languages").append( "<img src=\"{% static 'smart-admin-2/img/blank.gif' %}\" class='flag flag-us' alt='Flag language'> " + "<span> En </span> <i class='fa fa-angle-down'></i> " ); }; pageSetUp(); {% for message in messages %} $.smallBox({ title : "<i class='fa fa-desktop'></i> &nbsp;&nbsp; {{message|safe}}", content : "<i class='fa fa-clock-o'></i> <i>Tags</i>", color : "#296191", iconSmall : "fa fa-thumbs-up bounce animated", timeout : 4000 }); {% endfor %} {% if auto_resize %} let auto_resize = true; {% else %} let auto_resize = false; {% endif %} let ww=$("#id_dim_w").val(); let hh=$("#id_dim_h").val(); console.log('ww x hh', ww, hh); $("#id_file_path").on("change", function () { if (auto_resize) { const file = event.target.files[0]; if (file && file.type.startsWith('image/')) { console.log('Valid image file selected:', file.name); console.log('Image Before Resize', event.target.files[0]); smartCropImage(file, ww, hh, (resizedBlob) => { console.log('Resized image blob:', resizedBlob); const resizedFile = new File([resizedBlob], file.name, { type: file.type }); const dataTransfer = new DataTransfer(); dataTransfer.items.add(resizedFile); this.files = dataTransfer.files; }); } else { alert('Please select a valid image file.'); event.target.value = ''; }; alert('Complete auto resize!!'); } else { if (this.files && this.files[0]) { var reader = new FileReader(); reader.onload = function (e) { $("#image").attr("src", e.target.result); $("#form-id").val("photo"); $("#modalCrop").modal("show"); } reader.readAsDataURL(this.files[0]); } } }); }); </script> {% block extra_body %}{% endblock %}